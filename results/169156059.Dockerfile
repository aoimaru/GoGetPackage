[app/sources/169156059.Dockerfile]
digraph {
  "sha256:5e691c7ba4998fa4b60d1218bbc4ed9845bfa527d7d91b0c48922bbea45ce425" [label="docker-image://docker.io/library/ubuntu:18.04" shape="ellipse"];
  "sha256:fa8096d76f1ec78ca2335b02bb6b72ae21041485e2d5f6c771f39338fb05424f" [label="mkdir{path=/root}" shape="note"];
  "sha256:866958ac3cdcfe5deec9db24a6d1198c5939194b3396fb1eb3204179b934e085" [label="/bin/sh -c apt-get update" shape="box"];
  "sha256:d00361f48498ecaa3cac7858a03908eb91b51bc7e9919e54833533b6e10e51cd" [label="/bin/sh -c apt-get install -y mariadb-server mariadb-client" shape="box"];
  "sha256:1156eeff1995dec1df56b0982f95db65e421a47605f8beb29d3f0eab57e77c47" [label="/bin/sh -c sed -i \"s/127\\.0\\.0\\.1/0.0.0.0/g\" /etc/mysql/mariadb.conf.d/50-server.cnf" shape="box"];
  "sha256:ae9c28eb50481053b29a26ec73e2d6afa1bbe95dcdfdbaf829f7dabf1faddc06" [label="/bin/sh -c /etc/init.d/mysql start &&     /usr/bin/mysqladmin -u root password '${MYSQL_ROOT_PASS}' &&     mysql -e \"CREATE DATABASE voj\" &&     mysql -e \"GRANT SELECT, INSERT, UPDATE, DELETE ON voj.* TO 'voj'@'%' IDENTIFIED BY '${MYSQL_USER_PASS}'\"" shape="box"];
  "sha256:9dea657511001c969152ff72dd511e8abe281bfaa1d3aa0f5d3daa5108ec75d1" [label="/bin/sh -c apt-get install -y openjdk-11-jdk" shape="box"];
  "sha256:1f6b64870d7b781bc545beeb722d226f6a8fb84e3fffe9662892b9e0be3fcb88" [label="/bin/sh -c apt-get install -y wget" shape="box"];
  "sha256:87188a2948cd7d4126d9f3a4435832b4c9badb400830d9b5058d05805ec3a55c" [label="/bin/sh -c wget https://archive.apache.org/dist/maven/maven-3/3.5.4/binaries/apache-maven-3.5.4-bin.tar.gz" shape="box"];
  "sha256:4a79c4f127ba54c7c74d93305ee0c31489b9e8819fdbd5213fa03124594d61f8" [label="/bin/sh -c tar -xf apache-maven-3.5.4-bin.tar.gz -C /opt" shape="box"];
  "sha256:bdb44e1318a85a8a167e5a9df122486760bd62400f5b759241a749e0240ae2bc" [label="/bin/sh -c mv /opt/apache-maven-3.5.4 /opt/maven" shape="box"];
  "sha256:a8586a25c0a645a946f57977f15861511501960cacee7c6a55f28dbb281ae8e4" [label="/bin/sh -c rm apache-maven-3.5.4-bin.tar.gz" shape="box"];
  "sha256:ac68da13d710bbca8976692ef0cc9c212b7e7a0a52d4b71c9bf299069b2ad7fd" [label="/bin/sh -c useradd activemq -s /usr/sbin/nologin" shape="box"];
  "sha256:967fa6eeb8cc95f87d3e3a4b85443d5b3a559a6f560a35631b7f3dd7d4f57ebd" [label="/bin/sh -c wget https://archive.apache.org/dist/activemq/5.15.5/apache-activemq-5.15.5-bin.tar.gz" shape="box"];
  "sha256:d8a75f24d20bc421947de1c5459cc9de64c311ab83afaa27bd06c42b8941cb70" [label="/bin/sh -c tar -xf apache-activemq-5.15.5-bin.tar.gz -C /opt" shape="box"];
  "sha256:6f117731be154b587e731621664b168ceb2fc2766d3382e08c2e27d105e9429c" [label="/bin/sh -c mv /opt/apache-activemq-5.15.5 /opt/activemq" shape="box"];
  "sha256:56851b87a9317a85690e90c82e55eda3076e7bf5c034aa65eaa44378fb86d471" [label="/bin/sh -c chown -R activemq:activemq /opt/activemq" shape="box"];
  "sha256:d8a4a29a49ae11fcfa165ce68537c89e7d0fd9748d7c6986ed1e4b62dc51eac2" [label="/bin/sh -c sed -i 's/memoryUsage percentOfJvmHeap=\"70\"/memoryUsage limit=\"256 mb\"/g' /opt/activemq/conf/activemq.xml" shape="box"];
  "sha256:f349ebcad151e9bb23234ceab9f20bde28668bdb2b3a8af4a7f190d17bb54330" [label="/bin/sh -c sed -i 's/storeUsage limit=\"100 gb\"/storeUsage limit=\"1 gb\"/g' /opt/activemq/conf/activemq.xml" shape="box"];
  "sha256:3d27271046302936d1e5c819465efe173420700ae41f5d7cc8668cdcbfc1a67f" [label="/bin/sh -c sed -i 's/tempUsage limit=\"50 gb\"/tempUsage limit=\"1 gb\"/g' /opt/activemq/conf/activemq.xml" shape="box"];
  "sha256:c4012954e590ee48bebfe2b50347ef9ab3efa71c93775ba37194bbf318ff320c" [label="/bin/sh -c rm apache-activemq-5.15.5-bin.tar.gz" shape="box"];
  "sha256:1822f731c5a81b0098cdd50ee30de46fa2bc1ca9c16f4cc514f16667889c418c" [label="/bin/sh -c useradd tomcat -s /usr/sbin/nologin" shape="box"];
  "sha256:b40127e71796e3bcc7945241f854adc70987afb2d997cf9c2065e6f72f445c48" [label="/bin/sh -c wget https://archive.apache.org/dist/tomcat/tomcat-9/v9.0.12/bin/apache-tomcat-9.0.12.tar.gz" shape="box"];
  "sha256:14c8fdb96396c6418703e221a6e1dd013ef65ef2647fbf44f268d64f37c96196" [label="/bin/sh -c tar -xf apache-tomcat-9.0.12.tar.gz -C /opt" shape="box"];
  "sha256:4d6dc19604ad5648b0b4f8dd271cc6fd3ca4af288ef5d5000294584c9126672e" [label="/bin/sh -c mv /opt/apache-tomcat-9.0.12 /opt/tomcat/" shape="box"];
  "sha256:23a98a04dc2e07f482cd0d0ddc80553af4678b9a1c8c6f7c9f9b4a87a1012863" [label="/bin/sh -c chown -R tomcat:tomcat /opt/tomcat/" shape="box"];
  "sha256:0fe7ea0f91a247f502bcdcc231b96a44fc64dae1964cc64ae36763e2315520cf" [label="/bin/sh -c rm apache-tomcat-9.0.12.tar.gz" shape="box"];
  "sha256:f2689bfc8cf4cd328f4d77452f8bfaf76cb11bd9a9891619d4c3803f7539d7bc" [label="/bin/sh -c apt-get install -y git" shape="box"];
  "sha256:9961e394f18505e5645307b11b337b86aa1fd86fc87881422cbcc1660a5ad940" [label="/bin/sh -c git clone https://github.com/hzxie/voj.git" shape="box"];
  "sha256:7df2b9d44981605715beaccb5f5a9d7fd179a524d47f6dcde9b1726d8c9080a2" [label="/bin/sh -c $M2_HOME/bin/mvn package -DskipTests -f voj/web/pom.xml" shape="box"];
  "sha256:ba8ef4f6cf8feeae2861bc3e98296c887d15b5c53d1b62d83a6b226f8769212e" [label="/bin/sh -c cp -R voj/web/target/voj.web /opt/tomcat/webapps/voj" shape="box"];
  "sha256:28f2ab20706360d3bf44bd91038f97465866fbd4a6b9214382298ab2d28e62c3" [label="/bin/sh -c sed -i \"s@localhost:8080/voj@${WEBSITE_URL}@g\" /opt/tomcat/webapps/voj/WEB-INF/classes/voj.properties" shape="box"];
  "sha256:c8b5384c54b802c83a804131950baaa36c5b6e0017ca95b99b3691deef7c37c2" [label="/bin/sh -c sed -i \"s/jdbc.username = root/jdbc.username = voj/g\" /opt/tomcat/webapps/voj/WEB-INF/classes/voj.properties" shape="box"];
  "sha256:527b5ed80f99e5b042173b5f6b706dedc8c5c533457bed014bc206199ecf5876" [label="/bin/sh -c sed -i \"s/jdbc.password = /jdbc.password = ${MYSQL_USER_PASS}/g\" /opt/tomcat/webapps/voj/WEB-INF/classes/voj.properties" shape="box"];
  "sha256:653ba54f4bfa8152c77e52971b7e3d43c657a1e86fc129e0e4968646b897e3d8" [label="/bin/sh -c sed -i \"s/mail.host = /mail.host = ${MAIL_HOST}/g\" /opt/tomcat/webapps/voj/WEB-INF/classes/voj.properties" shape="box"];
  "sha256:ae26fc8ce03634d42c9076b44e4e91e8b58ba4698e832557d3101fd15e69f57a" [label="/bin/sh -c sed -i \"s/mail.username = /mail.username = ${MAIL_USERNAME}/g\" /opt/tomcat/webapps/voj/WEB-INF/classes/voj.properties" shape="box"];
  "sha256:b54a47e4dd21e0cabf3699a9a437253450ab81f11953d5dd9b2034f1baa3af26" [label="/bin/sh -c sed -i \"s/mail.password = /mail.password = ${MAIL_PASSWORD}/g\" /opt/tomcat/webapps/voj/WEB-INF/classes/voj.properties" shape="box"];
  "sha256:fe268d5a457e9ce7024b64566287a5aa6360f76cae6893ec3d15f843cc701082" [label="/bin/sh -c /etc/init.d/mysql start &&     mysql voj < voj/voj.sql" shape="box"];
  "sha256:e9607f8f093e64b48f78cbd355455f755e5cdb54a2b405e706f3318a4b1dae04" [label="/bin/sh -c apt-get install -y supervisor" shape="box"];
  "sha256:fc1c98cf34d5d67206cf1f84f89d52ee5aa037b0e9afdab651c88a0b11232376" [label="/bin/sh -c mkdir -p /var/log/supervisor" shape="box"];
  "sha256:18b68cb4e10edf7fb2f4066fe86d73c99f3aa90edd6c5b5df4b305b640b21f9e" [label="local://context" shape="ellipse"];
  "sha256:c0dfa592822be3f202244e0b7a0f681c301e49888e3d218986c3d7268cf9540e" [label="copy{src=/supervisord.conf, dest=/etc/supervisord.conf}" shape="note"];
  "sha256:e6d112428b785dd2c7c9239d089d66f28d18f524af8bec66ca6125635bab007a" [label="sha256:e6d112428b785dd2c7c9239d089d66f28d18f524af8bec66ca6125635bab007a" shape="plaintext"];
  "sha256:5e691c7ba4998fa4b60d1218bbc4ed9845bfa527d7d91b0c48922bbea45ce425" -> "sha256:fa8096d76f1ec78ca2335b02bb6b72ae21041485e2d5f6c771f39338fb05424f" [label=""];
  "sha256:fa8096d76f1ec78ca2335b02bb6b72ae21041485e2d5f6c771f39338fb05424f" -> "sha256:866958ac3cdcfe5deec9db24a6d1198c5939194b3396fb1eb3204179b934e085" [label=""];
  "sha256:866958ac3cdcfe5deec9db24a6d1198c5939194b3396fb1eb3204179b934e085" -> "sha256:d00361f48498ecaa3cac7858a03908eb91b51bc7e9919e54833533b6e10e51cd" [label=""];
  "sha256:d00361f48498ecaa3cac7858a03908eb91b51bc7e9919e54833533b6e10e51cd" -> "sha256:1156eeff1995dec1df56b0982f95db65e421a47605f8beb29d3f0eab57e77c47" [label=""];
  "sha256:1156eeff1995dec1df56b0982f95db65e421a47605f8beb29d3f0eab57e77c47" -> "sha256:ae9c28eb50481053b29a26ec73e2d6afa1bbe95dcdfdbaf829f7dabf1faddc06" [label=""];
  "sha256:ae9c28eb50481053b29a26ec73e2d6afa1bbe95dcdfdbaf829f7dabf1faddc06" -> "sha256:9dea657511001c969152ff72dd511e8abe281bfaa1d3aa0f5d3daa5108ec75d1" [label=""];
  "sha256:9dea657511001c969152ff72dd511e8abe281bfaa1d3aa0f5d3daa5108ec75d1" -> "sha256:1f6b64870d7b781bc545beeb722d226f6a8fb84e3fffe9662892b9e0be3fcb88" [label=""];
  "sha256:1f6b64870d7b781bc545beeb722d226f6a8fb84e3fffe9662892b9e0be3fcb88" -> "sha256:87188a2948cd7d4126d9f3a4435832b4c9badb400830d9b5058d05805ec3a55c" [label=""];
  "sha256:87188a2948cd7d4126d9f3a4435832b4c9badb400830d9b5058d05805ec3a55c" -> "sha256:4a79c4f127ba54c7c74d93305ee0c31489b9e8819fdbd5213fa03124594d61f8" [label=""];
  "sha256:4a79c4f127ba54c7c74d93305ee0c31489b9e8819fdbd5213fa03124594d61f8" -> "sha256:bdb44e1318a85a8a167e5a9df122486760bd62400f5b759241a749e0240ae2bc" [label=""];
  "sha256:bdb44e1318a85a8a167e5a9df122486760bd62400f5b759241a749e0240ae2bc" -> "sha256:a8586a25c0a645a946f57977f15861511501960cacee7c6a55f28dbb281ae8e4" [label=""];
  "sha256:a8586a25c0a645a946f57977f15861511501960cacee7c6a55f28dbb281ae8e4" -> "sha256:ac68da13d710bbca8976692ef0cc9c212b7e7a0a52d4b71c9bf299069b2ad7fd" [label=""];
  "sha256:ac68da13d710bbca8976692ef0cc9c212b7e7a0a52d4b71c9bf299069b2ad7fd" -> "sha256:967fa6eeb8cc95f87d3e3a4b85443d5b3a559a6f560a35631b7f3dd7d4f57ebd" [label=""];
  "sha256:967fa6eeb8cc95f87d3e3a4b85443d5b3a559a6f560a35631b7f3dd7d4f57ebd" -> "sha256:d8a75f24d20bc421947de1c5459cc9de64c311ab83afaa27bd06c42b8941cb70" [label=""];
  "sha256:d8a75f24d20bc421947de1c5459cc9de64c311ab83afaa27bd06c42b8941cb70" -> "sha256:6f117731be154b587e731621664b168ceb2fc2766d3382e08c2e27d105e9429c" [label=""];
  "sha256:6f117731be154b587e731621664b168ceb2fc2766d3382e08c2e27d105e9429c" -> "sha256:56851b87a9317a85690e90c82e55eda3076e7bf5c034aa65eaa44378fb86d471" [label=""];
  "sha256:56851b87a9317a85690e90c82e55eda3076e7bf5c034aa65eaa44378fb86d471" -> "sha256:d8a4a29a49ae11fcfa165ce68537c89e7d0fd9748d7c6986ed1e4b62dc51eac2" [label=""];
  "sha256:d8a4a29a49ae11fcfa165ce68537c89e7d0fd9748d7c6986ed1e4b62dc51eac2" -> "sha256:f349ebcad151e9bb23234ceab9f20bde28668bdb2b3a8af4a7f190d17bb54330" [label=""];
  "sha256:f349ebcad151e9bb23234ceab9f20bde28668bdb2b3a8af4a7f190d17bb54330" -> "sha256:3d27271046302936d1e5c819465efe173420700ae41f5d7cc8668cdcbfc1a67f" [label=""];
  "sha256:3d27271046302936d1e5c819465efe173420700ae41f5d7cc8668cdcbfc1a67f" -> "sha256:c4012954e590ee48bebfe2b50347ef9ab3efa71c93775ba37194bbf318ff320c" [label=""];
  "sha256:c4012954e590ee48bebfe2b50347ef9ab3efa71c93775ba37194bbf318ff320c" -> "sha256:1822f731c5a81b0098cdd50ee30de46fa2bc1ca9c16f4cc514f16667889c418c" [label=""];
  "sha256:1822f731c5a81b0098cdd50ee30de46fa2bc1ca9c16f4cc514f16667889c418c" -> "sha256:b40127e71796e3bcc7945241f854adc70987afb2d997cf9c2065e6f72f445c48" [label=""];
  "sha256:b40127e71796e3bcc7945241f854adc70987afb2d997cf9c2065e6f72f445c48" -> "sha256:14c8fdb96396c6418703e221a6e1dd013ef65ef2647fbf44f268d64f37c96196" [label=""];
  "sha256:14c8fdb96396c6418703e221a6e1dd013ef65ef2647fbf44f268d64f37c96196" -> "sha256:4d6dc19604ad5648b0b4f8dd271cc6fd3ca4af288ef5d5000294584c9126672e" [label=""];
  "sha256:4d6dc19604ad5648b0b4f8dd271cc6fd3ca4af288ef5d5000294584c9126672e" -> "sha256:23a98a04dc2e07f482cd0d0ddc80553af4678b9a1c8c6f7c9f9b4a87a1012863" [label=""];
  "sha256:23a98a04dc2e07f482cd0d0ddc80553af4678b9a1c8c6f7c9f9b4a87a1012863" -> "sha256:0fe7ea0f91a247f502bcdcc231b96a44fc64dae1964cc64ae36763e2315520cf" [label=""];
  "sha256:0fe7ea0f91a247f502bcdcc231b96a44fc64dae1964cc64ae36763e2315520cf" -> "sha256:f2689bfc8cf4cd328f4d77452f8bfaf76cb11bd9a9891619d4c3803f7539d7bc" [label=""];
  "sha256:f2689bfc8cf4cd328f4d77452f8bfaf76cb11bd9a9891619d4c3803f7539d7bc" -> "sha256:9961e394f18505e5645307b11b337b86aa1fd86fc87881422cbcc1660a5ad940" [label=""];
  "sha256:9961e394f18505e5645307b11b337b86aa1fd86fc87881422cbcc1660a5ad940" -> "sha256:7df2b9d44981605715beaccb5f5a9d7fd179a524d47f6dcde9b1726d8c9080a2" [label=""];
  "sha256:7df2b9d44981605715beaccb5f5a9d7fd179a524d47f6dcde9b1726d8c9080a2" -> "sha256:ba8ef4f6cf8feeae2861bc3e98296c887d15b5c53d1b62d83a6b226f8769212e" [label=""];
  "sha256:ba8ef4f6cf8feeae2861bc3e98296c887d15b5c53d1b62d83a6b226f8769212e" -> "sha256:28f2ab20706360d3bf44bd91038f97465866fbd4a6b9214382298ab2d28e62c3" [label=""];
  "sha256:28f2ab20706360d3bf44bd91038f97465866fbd4a6b9214382298ab2d28e62c3" -> "sha256:c8b5384c54b802c83a804131950baaa36c5b6e0017ca95b99b3691deef7c37c2" [label=""];
  "sha256:c8b5384c54b802c83a804131950baaa36c5b6e0017ca95b99b3691deef7c37c2" -> "sha256:527b5ed80f99e5b042173b5f6b706dedc8c5c533457bed014bc206199ecf5876" [label=""];
  "sha256:527b5ed80f99e5b042173b5f6b706dedc8c5c533457bed014bc206199ecf5876" -> "sha256:653ba54f4bfa8152c77e52971b7e3d43c657a1e86fc129e0e4968646b897e3d8" [label=""];
  "sha256:653ba54f4bfa8152c77e52971b7e3d43c657a1e86fc129e0e4968646b897e3d8" -> "sha256:ae26fc8ce03634d42c9076b44e4e91e8b58ba4698e832557d3101fd15e69f57a" [label=""];
  "sha256:ae26fc8ce03634d42c9076b44e4e91e8b58ba4698e832557d3101fd15e69f57a" -> "sha256:b54a47e4dd21e0cabf3699a9a437253450ab81f11953d5dd9b2034f1baa3af26" [label=""];
  "sha256:b54a47e4dd21e0cabf3699a9a437253450ab81f11953d5dd9b2034f1baa3af26" -> "sha256:fe268d5a457e9ce7024b64566287a5aa6360f76cae6893ec3d15f843cc701082" [label=""];
  "sha256:fe268d5a457e9ce7024b64566287a5aa6360f76cae6893ec3d15f843cc701082" -> "sha256:e9607f8f093e64b48f78cbd355455f755e5cdb54a2b405e706f3318a4b1dae04" [label=""];
  "sha256:e9607f8f093e64b48f78cbd355455f755e5cdb54a2b405e706f3318a4b1dae04" -> "sha256:fc1c98cf34d5d67206cf1f84f89d52ee5aa037b0e9afdab651c88a0b11232376" [label=""];
  "sha256:fc1c98cf34d5d67206cf1f84f89d52ee5aa037b0e9afdab651c88a0b11232376" -> "sha256:c0dfa592822be3f202244e0b7a0f681c301e49888e3d218986c3d7268cf9540e" [label=""];
  "sha256:18b68cb4e10edf7fb2f4066fe86d73c99f3aa90edd6c5b5df4b305b640b21f9e" -> "sha256:c0dfa592822be3f202244e0b7a0f681c301e49888e3d218986c3d7268cf9540e" [label=""];
  "sha256:c0dfa592822be3f202244e0b7a0f681c301e49888e3d218986c3d7268cf9540e" -> "sha256:e6d112428b785dd2c7c9239d089d66f28d18f524af8bec66ca6125635bab007a" [label=""];
}

