[app/sources/129015268.Dockerfile]
digraph {
  "sha256:3ba9773650c97f34efb884195214763e5ee80b7bbb32a8d5efbcc78614fbbceb" [label="docker-image://docker.io/microsoft/windowsservercore:latest" shape="ellipse"];
  "sha256:f13a634d1d2d60f97208b0dd7e51d5ff42a26e0d358b52c554ddda9656482e27" [label="powershell -Command $ErrorActionPreference = 'Stop'; $ProgressPreference = 'SilentlyContinue'; Function Test-Nano() {     $EditionId = (Get-ItemProperty -Path 'HKLM:\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion' -Name 'EditionID').EditionId;     return (($EditionId -eq 'ServerStandardNano') -or ($EditionId -eq 'ServerDataCenterNano') -or ($EditionId -eq 'NanoServer'));   }    Function Download-File([string] $source, [string] $target) {     if (Test-Nano) {       $handler = New-Object System.Net.Http.HttpClientHandler;       $client = New-Object System.Net.Http.HttpClient($handler);       $client.Timeout = New-Object System.TimeSpan(0, 30, 0);       $cancelTokenSource = [System.Threading.CancellationTokenSource]::new();       $responseMsg = $client.GetAsync([System.Uri]::new($source), $cancelTokenSource.Token);       $responseMsg.Wait();       if (!$responseMsg.IsCanceled) {         $response = $responseMsg.Result;         if ($response.IsSuccessStatusCode) {           $downloadedFileStream = [System.IO.FileStream]::new($target, [System.IO.FileMode]::Create, [System.IO.FileAccess]::Write);           $copyStreamOp = $response.Content.CopyToAsync($downloadedFileStream);           $copyStreamOp.Wait();           $downloadedFileStream.Close();           if ($copyStreamOp.Exception -ne $null) { throw $copyStreamOp.Exception }         }       } else {       Throw (\"Failed to download \" + $source)       }    } else {       $webClient = New-Object System.Net.WebClient;       $webClient.DownloadFile($source, $target);     }   }     setx /M PATH $('C:\\git\\cmd;C:\\git\\usr\\bin;'+$Env:PATH+';C:\\gcc\\bin;C:\\go\\bin');     Write-Host INFO: Downloading git...;   $location='https://www.nuget.org/api/v2/package/GitForWindows/'+$Env:GIT_VERSION;   Download-File $location C:\\gitsetup.zip;     Write-Host INFO: Downloading go...;   Download-File $('https://golang.org/dl/go'+$Env:GO_VERSION+'.windows-amd64.zip') C:\\go.zip;     Write-Host INFO: Downloading compiler 1 of 3...;   Download-File https://raw.githubusercontent.com/jhowardmsft/docker-tdmgcc/master/gcc.zip C:\\gcc.zip;     Write-Host INFO: Downloading compiler 2 of 3...;   Download-File https://raw.githubusercontent.com/jhowardmsft/docker-tdmgcc/master/runtime.zip C:\\runtime.zip;     Write-Host INFO: Downloading compiler 3 of 3...;   Download-File https://raw.githubusercontent.com/jhowardmsft/docker-tdmgcc/master/binutils.zip C:\\binutils.zip;     Write-Host INFO: Extracting git...;   Expand-Archive C:\\gitsetup.zip C:\\git-tmp;   New-Item -Type Directory C:\\git | Out-Null;   Move-Item C:\\git-tmp\\tools\\* C:\\git\\.;   Remove-Item -Recurse -Force C:\\git-tmp;     Write-Host INFO: Expanding go...;   Expand-Archive C:\\go.zip -DestinationPath C:\\;     Write-Host INFO: Expanding compiler 1 of 3...;   Expand-Archive C:\\gcc.zip -DestinationPath C:\\gcc -Force;   Write-Host INFO: Expanding compiler 2 of 3...;   Expand-Archive C:\\runtime.zip -DestinationPath C:\\gcc -Force;   Write-Host INFO: Expanding compiler 3 of 3...;   Expand-Archive C:\\binutils.zip -DestinationPath C:\\gcc -Force;     Write-Host INFO: Removing downloaded files...;   Remove-Item C:\\gcc.zip;   Remove-Item C:\\runtime.zip;   Remove-Item C:\\binutils.zip;   Remove-Item C:\\gitsetup.zip;     Write-Host INFO: Creating source directory...;   New-Item -ItemType Directory -Path C:\\go\\src\\github.com\\docker\\docker | Out-Null;     Write-Host INFO: Configuring git core.autocrlf...;   C:\\git\\cmd\\git config --global core.autocrlf true;     Write-Host INFO: Completed" shape="box"];
  "sha256:3c61e3a03b6548b2a487f38fedbf375f23bc7d73522e90f7d5504e4f3c69e16f" [label="mkdir{path=/C:\\go\\src\\github.com\\docker\\docker}" shape="note"];
  "sha256:c1b4ab648c67e78f4d0812b59e0aa717aae613cbaa51d9b6de0e2d22ec743781" [label="local://context" shape="ellipse"];
  "sha256:6a5ca83040883b311865eacfde8e8e73521bd69129c38d4f3616711a680a67b0" [label="copy{src=/, dest=/C:\\go\\src\\github.com\\docker\\docker/}" shape="note"];
  "sha256:57d4b01df67baa40d94c277a9112f119f8191a9fb368342d1ee463bec0bac292" [label="sha256:57d4b01df67baa40d94c277a9112f119f8191a9fb368342d1ee463bec0bac292" shape="plaintext"];
  "sha256:3ba9773650c97f34efb884195214763e5ee80b7bbb32a8d5efbcc78614fbbceb" -> "sha256:f13a634d1d2d60f97208b0dd7e51d5ff42a26e0d358b52c554ddda9656482e27" [label=""];
  "sha256:f13a634d1d2d60f97208b0dd7e51d5ff42a26e0d358b52c554ddda9656482e27" -> "sha256:3c61e3a03b6548b2a487f38fedbf375f23bc7d73522e90f7d5504e4f3c69e16f" [label=""];
  "sha256:3c61e3a03b6548b2a487f38fedbf375f23bc7d73522e90f7d5504e4f3c69e16f" -> "sha256:6a5ca83040883b311865eacfde8e8e73521bd69129c38d4f3616711a680a67b0" [label=""];
  "sha256:c1b4ab648c67e78f4d0812b59e0aa717aae613cbaa51d9b6de0e2d22ec743781" -> "sha256:6a5ca83040883b311865eacfde8e8e73521bd69129c38d4f3616711a680a67b0" [label=""];
  "sha256:6a5ca83040883b311865eacfde8e8e73521bd69129c38d4f3616711a680a67b0" -> "sha256:57d4b01df67baa40d94c277a9112f119f8191a9fb368342d1ee463bec0bac292" [label=""];
}

