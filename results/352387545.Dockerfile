[app/sources/352387545.Dockerfile]
digraph {
  "sha256:3f503d6190f7f15aefdf8663ed80f92bbdc553db0a5cb98cfa44e1abdd0e1520" [label="docker-image://docker.io/s390x/ubuntu:16.04" shape="ellipse"];
  "sha256:1a02035c8261413f82b22e2dfbea629b1046e21cae156e7b28ea23406576535b" [label="/bin/sh -c apt-get update && apt-get install -y \t\tapache2 \t\tapache2-dev \t\tbison \t\tbuild-essential \t\tcmake \t\tcurl \t\tdh-autoreconf \t\tgcc \t\tgit \t\tlibapache2-mod-wsgi \t\tlibboost-dev \t\tlibboost-program-options-dev \t\tlibffi-dev \t\tlibncurses-dev \t\tlibpcre3-dev \t\tlibpq-dev \t\tlibssl-dev \t\tlibxslt-dev \t\tmake \t\tmysql-server \t\tnet-tools \t\topenssl \t\tpython-dev \t\tpython-ldap \t\tpython-lxml \t\tpython-mysqldb \t\tpython-pkgconfig  \t\tpython-setuptools \t\tscons \t\ttar \t\twget \t\tpython3-dev \t\tlibsasl2-dev \t&&\teasy_install pip \t&&  pip install --upgrade setuptools \t&&\tpip install \t\ttox \t\tcryptography \t\tfunctools32 \t\tmod_wsgi \t\tpika==0.10.0 \t\tpython-memcached \t\tpython-openstackclient \t\trequests \t&&\tmkdir -p  /var/log/mysql \t&&\t/usr/sbin/mysqld --initialize --user=mysql --datadir=/var/lib/mysql/data \t&&\tsleep 60s \t&&  mkdir -p /var/run/mysqld \t&&\tchown -R mysql:mysql /var/run/mysqld \t&&\tservice mysql start \t&&\tsleep 60s \t&&\t/usr/bin/mysql -e \"CREATE DATABASE keystone\" \t&&\t/usr/bin/mysql -e \"GRANT ALL PRIVILEGES ON keystone.* TO 'keystone'@'%' IDENTIFIED BY 'keystone'\" \t&&\t/usr/bin/mysql -e \"GRANT ALL PRIVILEGES ON keystone.* TO 'keystone'@'localhost' IDENTIFIED BY 'keystone'\" \t&&\tmkdir -p $SOURCE_DIR \t&&\tcd $SOURCE_DIR \t&&\tgit clone https://github.com/openstack/keystone.git \t&&\tcd keystone/ \t&&\tgit checkout 14.0.1 \t&&\tpip install --ignore-installed -r requirements.txt \t&&\tpip install --ignore-installed -r test-requirements.txt  \t&&\tpython setup.py install \t&&  tox -egenconfig \t&&\tcp -r etc/ /etc/keystone \t&&\tcd /etc/keystone/ \t&&\tmv keystone.conf.sample keystone.conf \t&&\tmv logging.conf.sample logging.conf \t&&\tsed -i \"742i connection = mysql://keystone:keystone@127.0.0.1/keystone\" /etc/keystone/keystone.conf \t&&\tsed -i \"2828i provider = fernet\" /etc/keystone/keystone.conf \t&&\tkeystone-manage db_sync \t&&\tuseradd -m keystone \t&&\tusermod -aG keystone keystone \t&&\tmkdir -p /etc/keystone/fernet-keys \t&&\tchown -R keystone:keystone fernet-keys \t&&\tkeystone-manage fernet_setup --keystone-user keystone --keystone-group keystone \t&&\tkeystone-manage credential_setup --keystone-user keystone --keystone-group keystone \t&&\tkeystone-manage bootstrap --bootstrap-password ADMIN_PASS \t\t--bootstrap-admin-url http://127.0.0.1:35357/v3/ \t\t--bootstrap-internal-url http://127.0.0.1:5000/v3/ \t\t--bootstrap-public-url http://127.0.0.1:5000/v3/ \t\t--bootstrap-region-id RegionOne \t&&\tsed -i \"\\$a ServerName 127.0.0.1\" /etc/apache2/apache2.conf \t&&\tcd /etc/apache2/ \t&&\tmkdir -p sites-available \t&&\tmkdir -p sites-enabled \t&&\tcd sites-available/ \t&&\ttouch wsgi-keystone.conf \t&& \techo \"Listen 5000\" >> ~/wsgi-keystone.conf \t&& \techo \"Listen 35357\" >> ~/wsgi-keystone.conf \t&& \techo \"\" >> ~/wsgi-keystone.conf \t&& \techo \"<VirtualHost *:5000>\" >> ~/wsgi-keystone.conf \t&& \techo \"WSGIDaemonProcess keystone-public processes=5 threads=1 user=keystone group=keystone display-name=%{GROUP}\" >> ~/wsgi-keystone.conf \t&& \techo \"WSGIProcessGroup keystone-public\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIScriptAlias / /usr/local/bin/keystone-wsgi-public\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIApplicationGroup %{GLOBAL}\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIPassAuthorization On\" >> ~/wsgi-keystone.conf \t&& \techo  \"LimitRequestBody 114688\" >> ~/wsgi-keystone.conf \t&& \techo  \"<IfVersion >= 2.4>\" >> ~/wsgi-keystone.conf \t&& \techo  '\tErrorLogFormat \"%{cu}t %M\"' >> ~/wsgi-keystone.conf \t&& \techo  \"</IfVersion>\" >> ~/wsgi-keystone.conf \t&& \techo  \"ErrorLog /var/log/apache2/keystone.log\" >> ~/wsgi-keystone.conf \t&& \techo  \"CustomLog /var/log/apache2/keystone_access.log combined\" >> ~/wsgi-keystone.conf \t&& \techo  \"\" >> ~/wsgi-keystone.conf \t&& \techo  \"<Directory /usr/local/bin>\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t  <IfVersion >= 2.4>\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t\t  Require all granted\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t  </IfVersion>\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t  <IfVersion < 2.4>\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t\t  Order allow,deny\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t\t  Allow from all\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t  </IfVersion>\" >> ~/wsgi-keystone.conf \t&& \techo  \"</Directory>\" >> ~/wsgi-keystone.conf \t&& \techo \"</VirtualHost>\" >> ~/wsgi-keystone.conf \t&& \techo \"\" >> ~/wsgi-keystone.conf \t&& \techo \"<VirtualHost *:35357>\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIDaemonProcess keystone-admin processes=5 threads=1 user=keystone group=keystone display-name=%{GROUP}\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIProcessGroup keystone-admin\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIScriptAlias / /usr/local/bin/keystone-wsgi-admin\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIApplicationGroup %{GLOBAL}\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIPassAuthorization On\" >> ~/wsgi-keystone.conf \t&& \techo  \"LimitRequestBody 114688\" >> ~/wsgi-keystone.conf \t&& \techo  \"<IfVersion >= 2.4>\" >> ~/wsgi-keystone.conf \t&& \techo  '\tErrorLogFormat \"%{cu}t %M\"' >> ~/wsgi-keystone.conf \t&& \techo  \"</IfVersion>\" >> ~/wsgi-keystone.conf \t&& \techo  \"ErrorLog /var/log/apache2/keystone.log\" >> ~/wsgi-keystone.conf \t&& \techo  \"CustomLog /var/log/apache2/keystone_access.log combined\" >> ~/wsgi-keystone.conf \t&& \techo  \"\" >> ~/wsgi-keystone.conf \t&& \techo  \"<Directory /usr/local/bin>\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t  <IfVersion >= 2.4>\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t\t  Require all granted\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t  </IfVersion>\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t  <IfVersion < 2.4>\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t\t  Order allow,deny\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t\t  Allow from all\" >> ~/wsgi-keystone.conf \t&& \techo  \"\t  </IfVersion>\" >> ~/wsgi-keystone.conf \t&& \techo  \"</Directory>\" >> ~/wsgi-keystone.conf \t&& \techo \"</VirtualHost>\" >> ~/wsgi-keystone.conf \t&& \techo \"\" >> ~/wsgi-keystone.conf \t&& \techo \"Alias /identity /usr/local/bin/keystone-wsgi-public\" >> ~/wsgi-keystone.conf \t&& \techo \"<Location /identity>\" >> ~/wsgi-keystone.conf \t&& \techo  \"SetHandler wsgi-script\" >> ~/wsgi-keystone.conf \t&& \techo  \"Options +ExecCGI\" >> ~/wsgi-keystone.conf \t&& \techo  \"\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIProcessGroup keystone-public\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIApplicationGroup %{GLOBAL}\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIPassAuthorization On\" >> ~/wsgi-keystone.conf \t&& \techo \"</Location>\" >> ~/wsgi-keystone.conf \t&& \techo \"\" >> ~/wsgi-keystone.conf \t&& \techo \"Alias /identity_admin /usr/local/bin/keystone-wsgi-admin\" >> ~/wsgi-keystone.conf \t&& \techo \"<Location /identity_admin>\" >> ~/wsgi-keystone.conf \t&& \techo  \"SetHandler wsgi-script\" >> ~/wsgi-keystone.conf \t&& \techo  \"Options +ExecCGI\" >> ~/wsgi-keystone.conf \t&& \techo  \"\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIProcessGroup keystone-admin\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIApplicationGroup %{GLOBAL}\" >> ~/wsgi-keystone.conf \t&& \techo  \"WSGIPassAuthorization On\" >> ~/wsgi-keystone.conf \t&& \techo  \"</Location>\" >> ~/wsgi-keystone.conf \t&&\tcp ~/wsgi-keystone.conf . \t&&\tln -s /etc/apache2/sites-available/wsgi-keystone.conf /etc/apache2/sites-enabled \t&&\tapt-get -y remove \t\tgcc \t\tgit \t\tcmake \t\tcurl \t\tmake \t\twget \t&&\tapt-get autoremove -y \t&& \tapt autoremove -y \t&& \trm -rf $SOURCE_DIR \t&& \tapt-get clean \t&& \trm -rf /var/lib/apt/lists/*" shape="box"];
  "sha256:f1fd988282ae6f42283e5b41f1ef993b433eb0d80ec08ffc8d88d887e46d57e5" [label="sha256:f1fd988282ae6f42283e5b41f1ef993b433eb0d80ec08ffc8d88d887e46d57e5" shape="plaintext"];
  "sha256:3f503d6190f7f15aefdf8663ed80f92bbdc553db0a5cb98cfa44e1abdd0e1520" -> "sha256:1a02035c8261413f82b22e2dfbea629b1046e21cae156e7b28ea23406576535b" [label=""];
  "sha256:1a02035c8261413f82b22e2dfbea629b1046e21cae156e7b28ea23406576535b" -> "sha256:f1fd988282ae6f42283e5b41f1ef993b433eb0d80ec08ffc8d88d887e46d57e5" [label=""];
}

